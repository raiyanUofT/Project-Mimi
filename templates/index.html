<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Mimi</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body data-page="{{ page }}">
    <h1>Project Mimi - {{ page.replace('-', ' ').title() }}</h1>

    {% if page == "pantry" %}
    <!-- Pantry Page -->
    <div id="add-item-form">
        <input type="text" id="item-name" placeholder="Item Name" required>
        <input type="number" id="item-quantity" placeholder="Quantity" required>
        <button id="add-button">Add Item</button>
    </div>
    <ul id="pantry-list"></ul>

    <!-- Navigation Link to Add Items Page -->
    <a href="/add-items" class="navigation-link">Go to Add Items Page</a>

    {% elif page == "add-items" %}
    <!-- Add Items Page -->
    <form id="add-items-form">
        <div id="item-rows">
            <div class="item-row">
                <input type="text" name="name[]" placeholder="Item Name" required>
                <input type="number" name="quantity[]" placeholder="Quantity" required>
            </div>
        </div>
        <button type="button" id="add-row-button">Add Another Item</button>
        <button type="button" id="preview-button">Preview Items</button>
    </form>

    <div id="preview-section" style="display: none;">
        <h2>Preview Items</h2>
        <table id="preview-table" border="1">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Quantity</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <button id="confirm-button">Confirm and Save</button>
    </div>

    <!-- Navigation Link to Pantry Page -->
    <a href="/" class="navigation-link">Home</a>
    {% endif %}

    <!-- Inject API_URL as a global JavaScript variable -->
    <script>
        const API_URL = "{{ api_url }}";
    </script>

    <!-- Main JavaScript -->
    <script type="module" src="/static/scripts/main.js"></script>
</body>
</html>
